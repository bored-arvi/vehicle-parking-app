<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Line Chart with Chart.js</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Styling for the chart container */
        div {
            height: 50vh;
            width: 50vw;
            margin: auto;
        }
    </style>
</head>
<body>
    <h1>Dynamic Line Chart Example</h1>
    <div>
        <!-- Canvas element to render the chart -->
        <canvas id="lineChart" width="400" height="400"></canvas>
    </div>
    <script>
        // Get the 2D rendering context of the canvas
        let ctx = document.getElementById('lineChart').getContext('2d');

        // Initialize the line chart
        let lineChart = new Chart(ctx, {
            type: 'line', // Chart type
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'], // Initial labels
                datasets: [{
                    label: 'Dynamic Data',
                    data: [10, 20, 15, 25, 30, 22], // Initial data points
                    borderColor: 'rgba(75, 192, 192, 1)',
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    borderWidth: 2,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    title: {
                        display: true,
                        text: 'Dynamic Line Chart'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // Function to generate random data
        const getRandomValue = () => Math.floor(Math.random() * 100);

        // Update chart with new data every 2 seconds
        setInterval(() => {
            // Generate new random data array
            let updatedData = Array(6).fill().map(() => getRandomValue());
            
            // Update chart data
            lineChart.data.datasets[0].data = updatedData;
            
            // Update the chart
            lineChart.update();
        }, 2000);
    </script>
</body>
</html>